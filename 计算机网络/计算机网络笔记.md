---
计算机网络笔记
author:pyd
---

[TOC]

# 信息

* [教材地址](http://wps.personed.com/ecs_kurose_compnetw_6)
* 实验老师：李隆
* 助教：杨涛、刘洵、李江明、黄玉莎。
* 科技楼西楼915
* 周一交作业
* 实验：10周左右开始
* 15周大概讲完，17周考试，闭卷考试。
* [课本网址](https://media.pearsoncmg.com/aw/ecs_kurose_compnetwork_7/)

# 计算机网络

## 1.计算机网络和互联网

### 1.什么是Internet

* 从具体构成角度看：由边（通信链路），节点和协议构成。

  > 节点：主机及其运行的程序，
  >
  > 边：接入网链路（主机到互联网）和主干链路（路由器间）
  >
  > 协议：控制发送，接收消息，如TCP ,IP ,HTTP ,FTP ,PPP。

* 从服务的角度看：为进程提供服务的基础设施+分布式进程。

### 2.网络边缘、网络核心、网络接入

* 边缘：主机、应用程序（客户端、服务器）

  > 面向连接的服务(TCP)和无连接(UDP)的服务：是否握手。
  >
  > 连接：可靠、流量控制，拥塞控制，如：HTTP(Web), FTP(文件传送)，Telent(远程登陆)，SWMP(email)
  >
  > 无连接：不可靠、无流量控制、无拥塞控制，如：流媒体、远程会议、DNS、Internet电话。

* 核心：互联着的路由器、网络的网络

  > 电路交换：资源独享，建立连接后就能保证性能，但会造成浪费。（频分，时分，波分）
  >
  > > 建立时间长，计算机之间的通信有突发性，这样会浪费太多时间。因此不适合计算机之间的通信。
  >
  > 分组交换：资源共享，按需使用。数据分组,每次发一个组，存储-转发，带宽全部使用。(统计多路复用)
  >
  > > 需要排队，如果路由器缓存用完，分组会被丢失。过度使用会拥塞。适合于突发式数据传输。
  > >
  > > > 数据报原理：每个分组独立路由。每个分组需携带目标地址。各个分组路径不同，会失序。
  > > >
  > > > 虚电路原理：所有分组按虚电路表路由。每个分组只需携带虚电路号。路径相同，不会失序。
  >
  > 网络核心的关键功能：
  >
  > > 路由：决定分组采用的从源到目标的路径
  > >
  > > 转发：将分组从路由器的输入链路转移到输出链路。

* 接入：有线或无线的通信链路。

  > 家庭接入：DSL（电话网，独享线路）、电缆（电视网，共享线路）、FTTH、拨号、卫星
  >
  > 企业（局域网接入）：以太网、WIFI
  >
  > 广域无线接入：3G、LTE
  >
  > ISP之间的连接：
  >
  > > POP
  > >
  > > 对等接入
  > >
  > > IXP

### 3.时延、丢包、吞吐量

* 时延：节点总时延=处理时延+排队时延+传输时延+传播时延
* 排队时延：流量强度为$La/R$ ，当流量强度大于1时，排队延时将趋于无穷大。
* 队列满时丢弃到达的分组。
* 端到端时延：不考虑排队时延时，为N(传输延时+处理延时+传播延时)。
* 吞吐量：接收到文件的速率，瞬时，平均。等于瓶颈链路传输速率：$min\left\{R_{c},R_{s}\right\}$。

### 4.协议分层

* 

## 2.应用层

### 应用层协议原理

#### 网络应用程序的体系结构

* C/S
* P2P
* 混合的

#### 进程通信

* 进程与计算机网络之间的接口：**套接字**：是同一台主机内应用层和传输层之间的接口。
* 在发送端应用程序将报文推进套接字，**运输层协议**负责使该报文进入接收进程套接字。

#### 进程寻址

* 目的**主机**的地址：IP地址
* 定义在目的主机中**接收进程**的标识符：端口号。[端口号列表](http://www.iana.org)

#### 运输服务的选择

* 考虑因素：

  > 数据传输、吞吐量、定时、安全性

* 可选服务：

  > TCP服务：面向连接、可靠数据传送、拥塞控制
  >
  > UDP服务：无连接、不可靠、无拥塞控制

#### 应用层协议

| 应用         | 应用层协议 | 支撑的运输协议 |
| ------------ | ---------- | -------------- |
| 电子邮件     | SMTP       | TCP            |
| 远程终端访问 | Telnet     | TCP            |
| Web          | HTTP       | TCP            |
| 文件传输     | FTP        | TCP            |
| 流式多媒体   | HTTP       | TCP            |
| 因特网电话   | SIP        | UDP或TCP       |

### 应用层协议示例

#### Web和HTTP

* HTTP：定义了报文的结构以及客户和服务器进行报文交换的方式。

* 非持续连接和持续连接：

  > 非持续连接：每个TCP连接只传输一个请求报文和一个相应报文。每次相应完即断开。因此即使是一个HTML页面里的多个对象也要建立不同的连接来传输。
  >
  > 持续连接（默认）：服务器发送相应后仍保持TCP连接打开，可以传输后续报文，经过一定时间未被使用才断开。

* HTTP报文格式：

  > 请求报文：
  >
  > ```http
  > GET /somedir/page.html HTTP/1.1
  > Host:www.ustc.edu
  > Connection:close
  > User-agent:Mozilla/5.0
  > Accept-language:fr
  > ```
  >
  > 第一行为请求行(resquest line)，后面的行叫首部行(header line)。
  >
  > 请求行包含：方法字段(GET、POST、HEAD、PUT、DELETE)，url字段，HTTP版本字段。
  >
  > 首部行的用法见书p69。
  >
  > 使用POST方法时后面还有实体行。
  >
  > 响应报文：
  >
  > P71

* cookie：用于跟踪用户信息p72。

* web缓存：减少响应时间。

* 条件GET：允许缓存器证实他的对象是最新的。

#### 文件传输协议：FTP

* 分控制连接和数据连接。
* 控制连接：用户标识、口令、改变远程目录、存放、获取。
* 数据连接：传送文件数据。
* 当FTP的服务器端从控制连接中收到文件传输命令后，就发起一个到客户端的数据连接，文件传输完后，连接关闭。而控制连接在整个回话期间一直保持。
* FTP在整个会话期间保留用户状态。

#### 电子邮件

* 传送过程：发送方用户代理----发送方邮件服务器报文队列----接收方邮件服务器邮箱。

* SMTP协议：进行上述邮件传送的两个过程。

  > 与HTTP的比较：
  >
  > > HTTP主要pull，SMTP主要push
  > >
  > > SMTP要求报文必须是7位ascii
  > >
  > > 对于包含多对象的文档，HTTP把每个对象封装到自己的响应报文中，SMPT把所有对象封装到一个报文中。

* 邮件访问协议：

  > POP3:
  >
  > IMAP:
  >
  > HTTP

#### 套接字编程



## 3.传输层

## 4.网络层

### 数据平面

### 控制平面

## 5.数据链路层和局域网

## 6.网络安全

## 7.无线和移动网络

## 8.多媒体网络

## 9.网络管理



​                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  